!function(a,b){if("function"==typeof define&&define.amd)define(["exports"],b);else if("undefined"!=typeof exports)b(exports);else{var c={exports:{}};b(c.exports),a.actual=c.exports}}(this,function(a){"use strict";const b="undefined",c="object",d="function",e=typeof self==c&&self.self===self&&self||typeof global==c&&global.global===global&&global||this,f=e?e.safe:void 0,g=typeof Symbol==d&&Symbol.iterator,h=Object.keys,i=Number.MAX_SAFE_INTEGER||Infinity,j=Object.prototype.hasOwnProperty,k="Callback was already called.",l=["Array or Object are required","Array is required","Exactly two arguments are required","Function is required"],m=(a)=>{if(null===a)return!1;const b=typeof a;return b==c||b==d},n=(a)=>void 0===a,o=(a)=>typeof a==d,p=(a)=>a&&o(a.then),q=(a)=>a?a.data:void 0,r=(a)=>"AsyncFunction"===a.constructor.name,s=(a)=>{let b=-1;return{next:()=>(b++,b<a.length?{value:a[b],key:b,done:!1}:{done:!0})}},t=(a)=>{let b=-1;const c=a[g]();return{next:()=>{b++;const a=c.next();return a.done?{done:!0}:{value:a.value,key:b,done:!1}}}},u=(a)=>{const b=h(a),c=b.length;let d=-1;return{next:()=>{d++;const e=b[d];return d<c?{value:a[e],key:e,done:!1}:{done:!0}}}},v=(a)=>Array.isArray(a)?s(a):g&&a[g]?t(a):u(a),w=(a,b)=>{a.then((a)=>{T(b,null,a)},(a)=>{T(b,a)})},x=(a,b,c,d)=>{d=A(d);let e=0,f=!1,g=v(a),h=!1;const i=()=>{if(!(f||h))for(;e<b&&!1==h;){let a=g.next();if(a.done){f=!0,0>=e&&d();break}e++,c(a.value,a.key,(a)=>{e--,a?(h=!0,d(a)):!1==f&&e<b?i():f&&0>=e&&d()})}};i()},y=(a,b)=>{if(r(a))return void w(a(),b);let c;try{c=a(b)}catch(a){if(!a)throw a;return void b(a)}p(c)&&w(c,b)},z=(a)=>(b)=>b(null,a()),A=(a)=>(...b)=>{if(null!=a){const c=a;return a=null,c(...b)}},B=(a)=>(a=o(a)?a:V,(...b)=>{if(null===a)throw new Error(k);const c=a;return a=null,c(...b)}),C=(a,b,c,d)=>{if(!m(a))return S(l[0],d);d=A(d);const e=[];let f=0;x(a,b,(a,b,d)=>{const g=f++;Y((b)=>c(a,b),(a,b)=>{e[g]=b,d(a)})},(a)=>{d(a,e)})},D=(a,b,c,d)=>{if(!m(a))return S(l[0],d);d=A(d);const e={};x(a,b,(a,b,d)=>{Y((d)=>c(a,b,d),(a,c)=>{e[b]=c,d(a)})},(a)=>{d(a,e)})},E=(a,b,c,d)=>m(a)?void(d=A(d),C(a,b,(a,b)=>{Y((b)=>c(a,b),(c,d)=>c?b(c):void b(c,{key:d,val:a}))},(a,b)=>{const c={};b.forEach((a)=>{j.call(c,a.key)?c[a.key].push(a.val):c[a.key]=[a.val]}),d(a,c)})):S(l[0],d),F=(a,b,c,d,e)=>{if(!Array.isArray(b))return S(l[1],e);e=A(e);const f=[];x(b,c,(b,c,e)=>{Y((a)=>d(b,a),(d,g)=>{(a&&g||!(a||g))&&f.push({data:b,i:c}),e(d)})},(a)=>{e(a,f.sort((c,a)=>c.i-a.i).map(q))})},G=(a,b,c,d,e)=>{e=A(e);let f=a;x(b,c,(b,c,e)=>{Y((a)=>d(b,a),(b)=>{a?(!b&&(f=!1),e(!b)):(b&&(f=!0),e(f))})},()=>e(f))},H=(a,b,c)=>{c=A(c);const d=Array.isArray(a)?[]:{};x(a,b,(a,b,c)=>{Y(a,(a,...e)=>{d[b]=e.length?1===e.length?e[0]:e:null,c(a)})},(a)=>{c(a,d)})},I=(a,b,c,d)=>{a=parseInt(a);const e=Array(a);for(let f=0;f<a;f++)e[f]=f;C(e,b,c,d)},J=(a,b,c,d)=>{d=A(d);let e;x(a,b,(a,b,d)=>{Y((b)=>c(a,b),(b)=>{b&&(e=a),d(e||null)})},()=>d(e))},K=(a,b,c,d)=>Array.isArray(a)?void(d=A(d),C(a,b,c,(a,b)=>{d(a,[].concat(...b))})):S(l[1],d),L=(a,b,c,d,e)=>{e=A(e);const f=()=>{Y(b,$(e,g))},g=(b)=>{Y(a,$(e,(a)=>{a==c?e(null,b):f()}))};d?g():f()},M=(a,b,c,d,e)=>{if(!Array.isArray(a))return S(l[1],d);d=A(d);const f=v(a),g=a.length,h=(b,i)=>{if(b)return void d(b);const j=f.next();j.done?d(null,i):Y((b)=>c(i,e?j.value:a[g-1-j.key],b),h)};h(null,b)},N=(a)=>function(b,...c){const d=function(...c){const d=c.pop();x(b,a,(a,b,d)=>{Y((b)=>a.apply(this,c.concat(b)),d)},d)};return 0===c.length?d:d.apply(this,c)};class O{constructor(a,b,c){if(b=parseInt(b),!b)throw new TypeError("Concurrency must not be zero");Object.defineProperties(this,{name:{enumerable:!0,configurable:!1,writable:!1,value:c},__worker:{enumerable:!1,configurable:!1,writable:!1,value:a},__workers:{enumerable:!1,configurable:!1,writable:!0,value:0},__workersList:{enumerable:!1,configurable:!1,writable:!0,value:[]},__isProcessing:{enumerable:!1,configurable:!1,writable:!0,value:!1},__processingScheduled:{enumerable:!1,configurable:!1,writable:!0,value:!1},tasks:{enumerable:!1,configurable:!1,writable:!1,value:[]},concurrency:{enumerable:!0,configurable:!1,writable:!0,value:b},buffer:{enumerable:!0,configurable:!1,writable:!0,value:b/4},started:{enumerable:!0,configurable:!1,writable:!0,value:!1},paused:{enumerable:!0,configurable:!1,writable:!0,value:!1}})}__insert(a,b,c){if(null!=c&&!o(c))throw new TypeError(l[3]);if(this.started=!0,Array.isArray(a)||(a=[a]),0===a.length&&this.idle())return T(()=>{this.drain()});const d=a.map((a)=>({data:a,callback:B(c)}));b?this.tasks.unshift(...d):this.tasks.push(...d),this.__processingScheduled||(this.__processingScheduled=!0,T(()=>{this.__processingScheduled=!1,this.__execute()}))}__execute(){if(!this.__isProcessing){for(this.__isProcessing=!0;!this.paused&&this.__workers<this.concurrency&&this.tasks.length;){let a=this.tasks.shift();this.__workersList.push(a),0===this.tasks.length&&this.empty();let b=a.data;this.__workers++,this.__workers===this.concurrency&&this.saturated(),Y((c)=>this.__worker.call(a,b,c),(...c)=>{this.__workers--;const d=this.__workersList.indexOf(a);0===d?this.__workersList.shift():0<d&&this.__workersList.splice(d,1),a.callback(...c),c[0]&&this.error(c[0],b),this.__workers<=this.concurrency-this.buffer&&this.unsaturated(),this.idle()&&this.drain(),this.__execute()})}this.__isProcessing=!1}}remove(a){let b=this.tasks.filter((b)=>!a(b.data));this.tasks.length=b.length,b.forEach((a,b)=>{this.tasks[b]=a})}push(a,b){this.__insert(a,!1,b)}saturated(){}unsaturated(){}empty(){}drain(){}error(){}kill(){delete this.drain,this.tasks.length=0}length(){return this.tasks.length}running(){return this.__workers}idle(){return 0===this.tasks.length+this.__workers}pause(){this.paused=!0}resume(){this.paused&&(this.paused=!1,T(()=>this.__execute()))}workersList(){return this.__workersList}}class P extends O{constructor(a,b){super(a,b,"Priority Queue")}push(a,b,c){this.__insert(a,b||0,c)}__insert(a,b,c){if(null!=c&&!o(c))throw new TypeError(l[3]);if(this.started=!0,Array.isArray(a)||(a=[a]),0===a.length&&this.idle())return T(()=>{this.drain()});const d=a.map((a)=>({data:a,priority:b,callback:B(c)}));let e=this.tasks.length,f=e?this.tasks[0].priority:0,g=e?this.tasks[e-1].priority:0;b>f?this.tasks.unshift(...d):this.tasks.push(...d),f>=b&&b<g&&this.tasks.sort((c,b)=>b.priority-c.priority),this.__processingScheduled||(this.__processingScheduled=!0,T(()=>{this.__processingScheduled=!1,this.__execute()}))}}class Q extends O{constructor(a,b){super(a,b,"Queue")}unshift(a,b){this.__insert(a,!0,b)}}class R extends O{constructor(a,b){if(super(a,1,"Cargo"),b=parseInt(b),!b)throw new TypeError("Payload must not be zero");Object.defineProperties(this,{payload:{enumerable:!0,configurable:!1,writable:!0,value:b}})}__execute(){if(!this.__isProcessing){for(this.__isProcessing=!0;!this.paused&&this.__workers<this.concurrency&&this.tasks.length;){let a=this.tasks.splice(0,this.payload);this.__workersList.push(...a),0===this.tasks.length&&this.empty();let b=a.map(q);this.__workers++,this.__workers===this.concurrency&&this.saturated(),Y((a)=>this.__worker.call(null,b,a),(...b)=>{this.__workers--,a.forEach((a)=>{const c=this.__workersList.indexOf(a);0===c?this.__workersList.shift():0<c&&this.__workersList.splice(c,1),a.callback(...b)}),this.__workers<=this.concurrency-this.buffer&&this.unsaturated(),this.idle()&&this.drain(),this.__execute()})}this.__isProcessing=!1}}}const S=(a,b)=>{const c=new TypeError(a);if(!o(b))throw c;b(c)},T=(()=>typeof setImmediate==b?typeof process==b?typeof Image==d?(a,...b)=>{if(!o(a))throw new TypeError(l[3]);const c=new Image;c.onerror=()=>{a(...b)},c.src="data:image/png,0"}:(a,...b)=>{if(!o(a))throw new TypeError(l[3]);setTimeout(a,0,...b)}:(a,...b)=>{if(!o(a))throw new TypeError(l[3]);process.nextTick(()=>{a(...b)})}:(...a)=>{if(!o(a[0]))throw new TypeError(l[3]);setImmediate(...a)})(),U=typeof process!=b&&process.nextTick?process.nextTick:T,V=()=>{},W=(a)=>function(...b){let c=!0;const d=b[b.length-1];b[b.length-1]=function(...a){c?T(()=>d.apply(this,a)):d.apply(this,a)};const e=a.apply(this,b);return c=!1,e},X=(a)=>function(...b){const c=b.pop();y((c)=>{const d=a.apply(this,b);return r(a)||p(d)?d:c(null,d)},c)},Y=(a,b)=>{if(r(a))return void w(a(),b);let c,d;const e=(...a)=>{if(null===b){if(a[0])throw a[0];if(c)throw new Error(c);throw new Error(k)}const d=b;b=null,d(...a)};try{d=a(e)}catch(a){if(!a)throw a;T(e,a)}if(p(d)){if(c="Resolution method is overspecified. Call a callback *or* return a Promise.",null===b)throw new Error(c);w(d,e)}},Z=(a,b)=>{if(!o(b)||!o(a))throw new TypeError(l[2]);return function(c,...d){if(c)return void a(c);let e;try{e=b.apply(this,d)}catch(b){if(!b)throw b;return void T(a,b)}n(e)?T(a,null):T(a,null,e)}},$=(a,b)=>{if(n(b)||!o(a))throw new TypeError(l[2]);return function(c,...d){if(c)a(c);else if(!o(b))T(a,null,b);else try{return b.apply(this,d)}catch(b){if(!b)throw b;T(a,b)}}},_=(a,b,c,d)=>{M(a,b,c,d,1)},aa=(a,b,c,d)=>{M(a,b,c,d,0)},ba=(a,b,c)=>Array.isArray(a)?void x(a,i,(a,c,d)=>{Y((c)=>b(a,c),d)},c):S(l[1],c),ca=(a,b,c,d)=>Array.isArray(a)?void x(a,b,(a,b,d)=>{Y((b)=>c(a,b),d)},d):S(l[1],d),da=(a,b,c)=>Array.isArray(a)?void x(a,1,(a,c,d)=>{Y((c)=>b(a,c),d)},c):S(l[1],c),ea=(a,b,c)=>m(a,c)?void x(a,i,(a,c,d)=>{Y((d)=>b(a,c,d),d)},c):S(l[0],c),fa=(a,b,c,d)=>m(a)?void x(a,b,(a,b,d)=>{Y((d)=>c(a,b,d),d)},d):S(l[0],d),ga=(a,b,c)=>m(a)?void x(a,1,(a,c,d)=>{Y((d)=>b(a,c,d),d)},c):S(l[0],c),ha=(a,b,c)=>{F(!0,a,i,b,c)},ia=(a,b,c,d)=>{F(!0,a,b,c,d)},ja=(a,b,c)=>{F(!0,a,1,b,c)},ka=(a,b,c)=>{G(!1,a,i,b,c)},la=(a,b,c,d)=>{G(!1,a,b,c,d)},ma=(a,b,c)=>{G(!1,a,1,b,c)},na=(a,b,c)=>{G(!0,a,i,b,c)},oa=(a,b,c,d)=>{G(!0,a,b,c,d)},pa=(a,b,c)=>{G(!0,a,1,b,c)},qa=function(a,b,c){if(1>arguments.length||3<arguments.length)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");let d,e,f,g=0,h=()=>g;o(a)?(c=b,b=a,e=5):m(a)?(e=parseInt(a.times)||5,o(a.interval)?h=a.interval:g=parseInt(a.interval)||g,a.errorFilter&&(f=a.errorFilter)):e=parseInt(e)||5;const i=(a,g)=>{x(Array(e),1,(a,c,i)=>{Y((a)=>b(a,g),(a,b)=>{if(d=a||null,g={err:d,result:b},!(a&&c<e-1))i(!a);else if(f&&!f(a))i(!0);else{let a=h(c+1);0<a?setTimeout(i,a):i()}})},()=>{(a||c||V)(d,g)})};return c?i():i},ra=(a)=>function(...b){const c=b[b.length-1];b[b.length-1]=(a,...b)=>{if(a)c(null,{error:a});else{let a;a=b.length?1===b.length?b[0]:b:null,c(null,{value:a})}};const d=a.apply(this,b);(r(a)||p(d))&&d.then((a)=>{T(c,null,{value:a})},(a)=>{T(c,null,{error:a})})},sa=N(i),ta=N(1);a["default"]={noConflict:()=>(e.safe=f,this),noop:V,nextTick:U,back:T,setImmediate:T,yield:T,apply:(a,...b)=>(...c)=>a(...b,...c),async:(a,b,...c)=>(d)=>{try{return a[b].apply(a,c.concat(d))}catch(a){if(!a)throw a;T(d,a)}},inherits:(a,b)=>{a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1}})},args:function(...a){const b=a.length,c=parseInt(this);if(c!==c)throw new Error("Pass arguments to \"safe.args\" only through \".apply\" method!");if(0===b||c>b)return[];const d=Array(b-c);for(let e=c;e<b;e++)d[e-c]=0>e?null:a[e];return d},ensureAsync:W,constant:(...a)=>(b)=>b(null,...a),result:(a,b)=>{if(!o(b)||!o(a))throw new TypeError(l[2]);return function(...c){let d;try{d=b.apply(this,c)}catch(b){if(!b)throw b;return void a(b)}n(d)?T(a,null):T(a,null,d)}},sure_result:Z,trap_sure_result:Z,sure:$,trap_sure:$,sure_spread:(a,b)=>{if(n(b)||!o(a))throw new TypeError(l[2]);return function(c,...d){if(c)return void a(c);try{return b.apply(this,d[0])}catch(b){if(!b)throw b;T(a,b)}}},spread:(a)=>function(b){return a.apply(this,b)},trap:(a,b)=>{if(n(a))throw new TypeError(l[2]);return function(...c){n(b)&&(b=a,a=c[c.length-1]);try{return b.apply(this,c)}catch(b){if(!b)throw b;T(a,b)}}},wrap:(a,b)=>{if(!o(a)||!o(b))throw new TypeError(l[2]);return function(...c){c.push(b);try{return a.apply(this,c)}catch(a){if(!a)throw a;T(b,a)}}},run:Y,each:ba,forEach:ba,eachLimit:ca,forEachLimit:ca,eachSeries:da,forEachSeries:da,eachOf:ea,forEachOf:ea,eachOfLimit:fa,forEachOfLimit:fa,eachOfSeries:ga,forEachOfSeries:ga,map:(a,b,c)=>{C(a,i,b,c)},mapLimit:(a,b,c,d)=>{C(a,b,c,d)},mapSeries:(a,b,c)=>{C(a,1,b,c)},groupBy:(a,b,c)=>{E(a,i,b,c)},groupByLimit:(a,b,c,d)=>{E(a,b,c,d)},groupBySeries:(a,b,c)=>{E(a,1,b,c)},mapValues:(a,b,c)=>{D(a,i,b,c)},mapValuesLimit:(a,b,c,d)=>{D(a,b,c,d)},mapValuesSeries:(a,b,c)=>{D(a,1,b,c)},concat:(a,b,c)=>{K(a,i,b,c)},concatLimit:(a,b,c,d)=>{K(a,b,c,d)},concatSeries:(a,b,c)=>{K(a,1,b,c)},sortBy:(a,b,c)=>{if(!Array.isArray(a))return S(l[1],c);c=A(c);const d=[];x(a,i,(a,c,e)=>{Y((c)=>b(a,c),(b,f)=>{d[c]={data:a,i:f},e(b)})},(a)=>{c(a,d.sort((c,a)=>c.i-a.i).map(q))})},filter:ha,select:ha,filterLimit:ia,selectLimit:ia,filterSeries:ja,selectSeries:ja,reject:(a,b,c)=>{F(!1,a,i,b,c)},rejectLimit:(a,b,c,d)=>{F(!1,a,b,c,d)},rejectSeries:(a,b,c)=>{F(!1,a,1,b,c)},waterfall:(a,b)=>{if(!Array.isArray(a))return S(l[1],b);b=A(b);const c=v(a),d=(a,...e)=>{if(a)return void b(a);const f=c.next();f.done?b(null,...e):Y((a)=>f.value(...e,a),d)};d()},series:(a,b)=>{H(a,1,b)},parallel:(a,b)=>{H(a,i,b)},parallelLimit:(a,b,c)=>{H(a,b,c)},auto:(a,b,c)=>{const d={},e=Object.create(null),f=h(a);let g,l=f.length,m=0,k=null;if(o(b)&&(c=b,b=i),f.forEach((b)=>{if(!k){const c=a[b];if(Array.isArray(c)){let d=c.slice(0,c.length-1);for(let e,f=0;f<d.length;f++){if(e=j.call(a,c[f])?a[c[f]]:null,!e){k=new Error(`safe.auto task \`${b}\` has a non-existent dependency \`${c[f]}\` in ${d.join(", ")}`);break}if(e===b||Array.isArray(e)&&-1!==e.indexOf(b)){k=new Error(`safe.auto cannot execute tasks due to a recursive dependency`);break}}}}}),k){if(o(c))return c(k);throw new Error(k)}c=A(c);const n=()=>{f.forEach((f)=>{if(g||m>=b||e[f])return;let h;const k=a[f];if(Array.isArray(k)){let a=k.length-1;for(let b=0;b<a;b++)if(!j.call(d,k[b]))return;h=k[a]}else h=k;e[f]=!0,m++,Y((a)=>h(a,d),(a,...b)=>{l--,m--,g||(g=a||0===l,a?c(a,d):(d[f]=b.length?1===b.length?b[0]:b:null,g?c(a,d):n()))})})};n()},whilst:(a,b,c)=>{L(z(a),b,!1,!0,c)},doWhilst:(a,b,c)=>{L(z(b),a,!1,!1,c)},during:(a,b,c)=>{L(a,b,!1,!0,c)},doDuring:(a,b,c)=>{L(b,a,!1,!1,c)},until:(a,b,c)=>{L(z(a),b,!0,!0,c)},doUntil:(a,b,c)=>{L(z(b),a,!0,!1,c)},forever:(a,b)=>{b=B(b),a=W(a);const c=()=>{a($(b,c))};c()},reduce:_,inject:_,foldl:_,reduceRight:aa,foldr:aa,queue:(a,b)=>new Q(a,b),priorityQueue:(a,b)=>new P(a,b),cargo:(a,b)=>new R(a,b),retry:qa,retryable:qa,times:(a,b,c)=>{I(a,i,b,c)},timesLimit:(a,b,c,d)=>{I(a,b,c,d)},timesSeries:(a,b,c)=>{I(a,1,b,c)},detect:(a,b,c)=>{J(a,i,b,c)},detectLimit:(a,b,c,d)=>{J(a,b,c,d)},detectSeries:(a,b,c)=>{J(a,1,b,c)},some:ka,any:ka,someLimit:la,anyLimit:la,someSeries:ma,anySeries:ma,every:na,all:na,everyLimit:oa,allLimit:oa,everySeries:pa,allSeries:pa,applyEach:sa,applyEachSeries:ta,asyncify:X,wrapSync:X,memoize:(a,b)=>{const c={},d={};b=b||((a)=>a);const e=(...e)=>{const f=e.pop(),g=b(...e);j.call(c,g)?T(()=>f(...c[g])):j.call(d,g)?d[g].push(f):(d[g]=[f],a(...e,(...a)=>{c[g]=a;const b=d[g];delete d[g],b.forEach((b)=>{b(...a)})}))};return e.memo=c,e.unmemoized=a,e},unmemoize:(a)=>(...b)=>(a.unmemoized||a)(...b),transform:function(a,b,c,d){3>=arguments.length&&(d=c,c=b,b=Array.isArray(a)?[]:{}),d=d||V,x(a,i,(a,d,e)=>{Y((e)=>c(b,a,d,e),e)},(a)=>d(a,b))},reflect:ra,reflectAll:(a)=>{if(Array.isArray(a))return a.map(ra);let b={};return h(a).forEach((c)=>{b[c]=ra(a[c])}),b},race:(a,b)=>Array.isArray(a)?void(b=A(b),a.length?a.forEach((a)=>{a(b)}):b()):S(l[0],b),tryEach:(a,b)=>{if(!m(a,b))return S(l[0],b);let c,d=null;b=A(b),x(a,1,(a,b,e)=>{Y(a,(a,...b)=>{c=1>=b.length?b[0]:b,d=a,e(!a)})},()=>{b(d,c)})}},Object.keys(a["default"]).forEach((b)=>{a[b]=a["default"][b]}),Object.defineProperty(a,"__esModule",{value:!0})});

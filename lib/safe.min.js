!function(a,b){if("function"==typeof define&&define.amd)define(["exports"],b);else if("undefined"!=typeof exports)b(exports);else{var c={exports:{}};b(c.exports),a.actual=c.exports}}(this,function(a){"use strict";function b(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function c(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=this,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g="undefined",h="object",i="function",j=("undefined"==typeof self?"undefined":f(self))===h&&self.self===self&&self||("undefined"==typeof global?"undefined":f(global))===h&&global.global===global&&global||this,k=j?j.safe:void 0,m=Object.keys,l=Array.isArray,n=Infinity,o=Object.prototype.hasOwnProperty,p="Callback was already called.",q=["Array or Object are required","Array is required","Exactly two arguments are required","Function is required"],r=function(a){if(null===a)return!1;var b="undefined"==typeof a?"undefined":f(a);return b===h||b===i},s=function(a){return("undefined"==typeof a?"undefined":f(a))===g},t=function(a){return("undefined"==typeof a?"undefined":f(a))===i},u=function(a){return a&&t(a.then)},v=function(a){if(a)return a.data},w=function(a){return a&&a.constructor&&"AsyncFunction"===a.constructor.name},x=function(a,b){var c=new TypeError(a);if(!t(b)||b===$)throw c;b(c)},y=function(a){var b=-1;return{next:function(){return b++,b<a.length?{value:a[b],key:b,done:!1}:{done:!0}}}},z=function(a){var b=-1,c=a[Symbol.iterator]();return{next:function(){b++;var a=c.next();return a.done?{done:!0}:{value:a.value,key:b,done:!1}}}},A=function(a){var b=m(a),c=b.length,d=-1;return{next:function(){d++;var e=b[d];return d<c?{value:a[e],key:e,done:!1}:{done:!0}}}},B=function(a){return l(a)?y(a):a[("undefined"==typeof Symbol?"undefined":f(Symbol))===i&&Symbol.iterator]?z(a):A(a)},C=function(a,b){a.then(function(a){Y(b,null,a)},function(a){Y(b,a)})},D=function(a,b,c,d){var e=0,f=!1,g=B(a),h=!1,i=G(d),j=function a(){if(!(f||h))for(;e<b&&!1==h;){var d=g.next();if(d.done){f=!0,0>=e&&i();break}e++,c(d.value,d.key,function(c){e--,c?(h=!0,i(c)):!1==f&&e<b?a():f&&0>=e&&i()})}};j()},E=function(a,b){if(w(a))return void C(a(),b);var c;try{c=a(b)}catch(a){if(!a)throw a;return void b(a)}u(c)&&C(c,b)},F=function(a){return function(b){return b(null,a())}},G=function(a){var b=!1;return function(){if(!(b||null==a))return b=!0,a.apply(void 0,arguments)}},H=function(a){var b=!1;return function(){if(b)throw new Error(p);return b=!0,a.apply(void 0,arguments)}},I=function(a,b,c,d){if(!r(a))return x(q[0],d);var e=[],f=0;D(a,b,function(a,b,d){var g=f++;ba(function(b){return c(a,b)},function(a,b){e[g]=b,d(a)})},function(a){d(a,e)})},J=function(a,b,c,d){if(!r(a))return x(q[0],d);var e={};D(a,b,function(a,b,d){ba(function(d){return c(a,b,d)},function(a,c){e[b]=c,d(a)})},function(a){d(a,e)})},K=function(a,b,c,d){return r(a)?void I(a,b,function(a,b){ba(function(b){return c(a,b)},function(c,d){return c?b(c):void b(c,{key:d,val:a})})},function(a,b){var c={};b.forEach(function(a){o.call(c,a.key)?c[a.key].push(a.val):c[a.key]=[a.val]}),d(a,c)}):x(q[0],d)},L=function(a,b,c,d,e){if(!l(b))return x(q[1],e);var f=[];D(b,c,function(b,c,e){ba(function(a){return d(b,a)},function(d,g){(a&&g||!(a||g))&&f.push({data:b,i:c}),e(d)})},function(a){e(a,f.sort(function(c,a){return c.i-a.i}).map(v))})},M=function(a,b,c,d,e){var f=a;D(b,c,function(b,c,e){ba(function(a){return d(b,a)},function(b){a?(!b&&(f=!1),e(!b)):(b&&(f=!0),e(f))})},function(){return e(f)})},N=function(a,b,c){var d=l(a)?[]:{};D(a,b,function(a,b,c){ba(a,function(a){for(var e=arguments.length,f=Array(1<e?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];d[b]=f.length?1===f.length?f[0]:f:null,c(a)})},function(a){c(a,d)})},O=function(a,b,c,d){for(var e=parseInt(a),f=Array(e),g=0;g<e;g++)f[g]=g;I(f,b,c,d)},P=function(a,b,c,d){var e;D(a,b,function(a,b,d){ba(function(b){return c(a,b)},function(b){b&&(e=a),d(e||null)})},function(){return d(e)})},Q=function(a,b,c,d){return l(a)?void I(a,b,c,function(a,b){var c;d(a,(c=[]).concat.apply(c,b))}):x(q[1],d)},R=function(a,b,c,d,e){var f=function(){ba(b,da(e,g))},g=function(b){ba(a,da(e,function(a){a==c?e(null,b):f()}))};d?g():f()},S=function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$,e=arguments[4];if(!l(a))return x(q[1],d);var f=B(a),g=a.length;(function b(h,i){if(h)return void d(h);var j=f.next();j.done?d(null,i):ba(function(b){return c(i,e?j.value:a[g-1-j.key],b)},b)})(null,b)},T=function(a){return function(b){for(var c=function(){for(var c=this,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=e.pop();D(b,a,function(a,b,d){ba(function(b){return a.apply(c,e.concat(b))},d)},g)},d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return 0===e.length?c:c.apply(this,e)}},U=function(){function a(b,c,e){d(this,a);var f=parseInt(c);if(!f)throw new TypeError("Concurrency must not be zero");Object.defineProperties(this,{name:{enumerable:!0,configurable:!1,writable:!1,value:e},__worker:{enumerable:!1,configurable:!1,writable:!1,value:b},__workers:{enumerable:!1,configurable:!1,writable:!0,value:0},__workersList:{enumerable:!1,configurable:!1,writable:!0,value:[]},__isProcessing:{enumerable:!1,configurable:!1,writable:!0,value:!1},__processingScheduled:{enumerable:!1,configurable:!1,writable:!0,value:!1},tasks:{enumerable:!1,configurable:!1,writable:!1,value:[]},concurrency:{enumerable:!0,configurable:!1,writable:!0,value:f},buffer:{enumerable:!0,configurable:!1,writable:!0,value:f/4},started:{enumerable:!0,configurable:!1,writable:!0,value:!1},paused:{enumerable:!0,configurable:!1,writable:!0,value:!1}})}return a.prototype.__insert=function(a,b,c){var d=this;if(null!=c&&!t(c))throw new TypeError(q[3]);this.started=!0;var e=l(a)?a:[a];if(0===e.length&&this.idle())return Y(function(){d.drain()});var f=e.map(function(a){return{data:a,callback:H(c||$)}});if(b){var g;(g=this.tasks).unshift.apply(g,f)}else{var h;(h=this.tasks).push.apply(h,f)}this.__processingScheduled||(this.__processingScheduled=!0,Y(function(){d.__processingScheduled=!1,d.__execute()}))},a.prototype.__execute=function(){var a=this;if(!this.__isProcessing){this.__isProcessing=!0;for(var b=function(){var b=a.tasks.shift();a.__workersList.push(b),0===a.tasks.length&&a.empty();var c=b.data;a.__workers++,a.__workers===a.concurrency&&a.saturated(),ba(function(d){return a.__worker.call(b,c,d)},function(){a.__workers--;var d=a.__workersList.indexOf(b);0===d?a.__workersList.shift():0<d&&a.__workersList.splice(d,1),b.callback.apply(b,arguments),(0>=arguments.length?void 0:arguments[0])&&a.error(0>=arguments.length?void 0:arguments[0],c),a.__workers<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.__execute()})};!this.paused&&this.__workers<this.concurrency&&this.tasks.length;)b();this.__isProcessing=!1}},a.prototype.remove=function(a){var b=this,c=this.tasks.filter(function(b){return!a(b.data)});this.tasks.length=c.length,c.forEach(function(a,c){b.tasks[c]=a})},a.prototype.push=function(a,b){this.__insert(a,!1,b)},a.prototype.saturated=function(){},a.prototype.unsaturated=function(){},a.prototype.empty=function(){},a.prototype.drain=function(){},a.prototype.error=function(){},a.prototype.kill=function(){delete this.drain,this.tasks.length=0},a.prototype.length=function(){return this.tasks.length},a.prototype.running=function(){return this.__workers},a.prototype.idle=function(){return 0===this.tasks.length+this.__workers},a.prototype.pause=function(){this.paused=!0},a.prototype.resume=function(){var a=this;this.paused&&(this.paused=!1,Y(function(){return a.__execute()}))},a.prototype.workersList=function(){return this.__workersList},a}(),V=function(a){function e(c,f){return d(this,e),b(this,a.call(this,c,f,"Priority Queue"))}return c(e,a),e.prototype.push=function(a,b,c){this.__insert(a,b||0,c)},e.prototype.__insert=function(a,b,c){var d=this;if(null!=c&&!t(c))throw new TypeError(q[3]);this.started=!0;var e=l(a)?a:[a];if(0===e.length&&this.idle())return Y(function(){d.drain()});var f=e.map(function(a){return{data:a,priority:b,callback:H(c||$)}}),g=this.tasks.length,h=g?this.tasks[0].priority:0,i=g?this.tasks[g-1].priority:0;if(b>h){var j;(j=this.tasks).unshift.apply(j,f)}else{var k;(k=this.tasks).push.apply(k,f)}h>=b&&b<i&&this.tasks.sort(function(c,b){return b.priority-c.priority}),this.__processingScheduled||(this.__processingScheduled=!0,Y(function(){d.__processingScheduled=!1,d.__execute()}))},e}(U),W=function(a){function e(c,f){return d(this,e),b(this,a.call(this,c,f,"Queue"))}return c(e,a),e.prototype.unshift=function(a,b){this.__insert(a,!0,b)},e}(U),X=function(a){function e(c,f){d(this,e);var g=b(this,a.call(this,c,1,"Cargo")),h=parseInt(f);if(!h)throw new TypeError("Payload must not be zero");return Object.defineProperties(g,{payload:{enumerable:!0,configurable:!1,writable:!0,value:h}}),g}return c(e,a),e.prototype.__execute=function(){var a=this;if(!this.__isProcessing){this.__isProcessing=!0;for(var b=function(){var b,c=a.tasks.splice(0,a.payload);(b=a.__workersList).push.apply(b,c),0===a.tasks.length&&a.empty();var d=c.map(v);a.__workers++,a.__workers===a.concurrency&&a.saturated(),ba(function(b){return a.__worker.call(null,d,b)},function(){for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];a.__workers--,c.forEach(function(b){var c=a.__workersList.indexOf(b);0===c?a.__workersList.shift():0<c&&a.__workersList.splice(c,1),b.callback.apply(b,d)}),a.__workers<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.__execute()})};!this.paused&&this.__workers<this.concurrency&&this.tasks.length;)b();this.__isProcessing=!1}},e}(U),Y=function(){return("undefined"==typeof setImmediate?"undefined":f(setImmediate))===g?("undefined"==typeof process?"undefined":f(process))===g?("undefined"==typeof Image?"undefined":f(Image))===i?function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(!t(a))throw new TypeError(q[3]);var e=new Image;e.onerror=function(){a.apply(void 0,c)},e.src="data:image/png,0"}:function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(!t(a))throw new TypeError(q[3]);setTimeout.apply(void 0,[a,0].concat(c))}:function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(!t(a))throw new TypeError(q[3]);process.nextTick(function(){a.apply(void 0,c)})}:function(){if(!t(0>=arguments.length?void 0:arguments[0]))throw new TypeError(q[3]);setImmediate.apply(void 0,arguments)}}(),Z=("undefined"==typeof process?"undefined":f(process))!==g&&process.nextTick?process.nextTick:Y,$=function(){},_=function(a){return function(){for(var b=!0,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=d[d.length-1];d[d.length-1]=function(){for(var a=this,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];b?Y(function(){return f.apply(a,d)}):f.apply(this,d)};var g=a.apply(this,d);return b=!1,g}},aa=function(a){return function(){for(var b=this,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=d.pop();E(function(c){var e=a.apply(b,d);return w(a)||u(e)?e:c(null,e)},f)}},ba=function(a,b){if(w(a))return void C(a(),b);var c,d,e=!1,f=function(){if(e)throw(0>=arguments.length?void 0:arguments[0])||new Error(c||p);e=!0,b.apply(void 0,arguments)};try{d=a(f)}catch(a){if(!a)throw a;Y(f,a)}if(u(d)){if(c="Resolution method is overspecified. Call a callback *or* return a Promise.",e)throw new Error(c);C(d,f)}},ca=function(a,b){if(!t(b)||!t(a))throw new TypeError(q[2]);return function(c){if(c)return void a(c);var d;try{for(var e=arguments.length,f=Array(1<e?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];d=b.apply(this,f)}catch(b){if(!b)throw b;return void Y(a,b)}s(d)?Y(a,null):Y(a,null,d)}},da=function(a,b){if(s(b)||!t(a))throw new TypeError(q[2]);return function(c){if(c)a(c);else if(!t(b))Y(a,null,b);else try{for(var d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b.apply(this,e)}catch(b){if(!b)throw b;Y(a,b)}}},ea=function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;S(a,b,c,d,1)},fa=function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;S(a,b,c,d,0)},ga=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;return l(a)?void D(a,n,function(a,c,d){ba(function(c){return b(a,c)},d)},c):x(q[1],c)},ha=function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;return l(a)?void D(a,b,function(a,b,d){ba(function(b){return c(a,b)},d)},d):x(q[1],d)},ia=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;return l(a)?void D(a,1,function(a,c,d){ba(function(c){return b(a,c)},d)},c):x(q[1],c)},ja=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;return r(a,c)?void D(a,n,function(a,c,d){ba(function(d){return b(a,c,d)},d)},c):x(q[0],c)},ka=function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;return r(a)?void D(a,b,function(a,b,d){ba(function(d){return c(a,b,d)},d)},d):x(q[0],d)},la=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;return r(a)?void D(a,1,function(a,c,d){ba(function(d){return b(a,c,d)},d)},c):x(q[0],c)},ma=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;L(!0,a,n,b,c)},na=function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;L(!0,a,b,c,d)},oa=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;L(!0,a,1,b,c)},pa=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;M(!1,a,n,b,c)},qa=function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;M(!1,a,b,c,d)},ra=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;M(!1,a,1,b,c)},sa=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;M(!0,a,n,b,c)},ta=function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;M(!0,a,b,c,d)},ua=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;M(!0,a,1,b,c)},va=function(a,b,c){if(1>arguments.length||3<arguments.length)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");var d,e,f,g=0,h=function(){return g};t(a)?(c=b,b=a,e=5):r(a)?(e=parseInt(a.times)||5,t(a.interval)?h=a.interval:g=parseInt(a.interval)||g,a.errorFilter&&(f=a.errorFilter)):e=parseInt(e)||5;var i=function(a,g){var i=g;D(Array(e),1,function(a,c,g){ba(function(a){return b(a,i)},function(a,b){if(d=a||null,i={err:d,result:b},!(a&&c<e-1))g(!a);else if(f&&!f(a))g(!0);else{var j=h(c+1);0<j?setTimeout(g,j):g()}})},function(){(a||c||$)(d,i)})};return c?i():i},wa=function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=c[c.length-1];c[c.length-1]=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(a)e(null,{error:a});else{var f;f=c.length?1===c.length?c[0]:c:null,e(null,{value:f})}};var f=a.apply(this,c);(w(a)||u(f))&&f.then(function(a){Y(e,null,{value:a})},function(a){Y(e,null,{error:a})})}},xa=T(n),ya=T(1);a["default"]={noConflict:function(){return j.safe=k,e},noop:$,nextTick:Z,back:Y,setImmediate:Y,yield:Y,apply:function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return function(){for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];return a.apply(void 0,c.concat(d))}},async:function(a,b){for(var c=arguments.length,d=Array(2<c?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return function(c){try{return a[b].apply(a,d.concat(c))}catch(a){if(!a)throw a;Y(c,a)}}},inherits:function(a,b){a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1}})},args:function(){var a=arguments.length,b=parseInt(this);if(b!==b)throw new Error("Pass arguments to \"safe.args\" only through \".apply\" method!");if(0===a||b>a)return[];for(var c=Array(a-b),d=b;d<a;d++)c[d-b]=0>d?null:arguments.length<=d?void 0:arguments[d];return c},ensureAsync:_,constant:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return a.apply(void 0,[null].concat(b))}},result:function(a,b){if(!t(b)||!t(a))throw new TypeError(q[2]);return function(){var c;try{for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];c=b.apply(this,e)}catch(b){if(!b)throw b;return void a(b)}s(c)?Y(a,null):Y(a,null,c)}},sure_result:ca,trap_sure_result:ca,sure:da,trap_sure:da,sure_spread:function(a,b){if(s(b)||!t(a))throw new TypeError(q[2]);return function(c){if(c)return void a(c);try{return b.apply(this,1>=arguments.length?void 0:arguments[1])}catch(b){if(!b)throw b;Y(a,b)}}},spread:function(a){return function(b){return a.apply(this,b)}},trap:function(a,b){if(s(a))throw new TypeError(q[2]);return function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];s(b)&&(b=a,a=d[d.length-1]);try{return b.apply(this,d)}catch(b){if(!b)throw b;Y(a,b)}}},wrap:function(a,b){if(!t(a)||!t(b))throw new TypeError(q[2]);return function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d.push(b);try{return a.apply(this,d)}catch(a){if(!a)throw a;Y(b,a)}}},run:ba,each:ga,forEach:ga,eachLimit:ha,forEachLimit:ha,eachSeries:ia,forEachSeries:ia,eachOf:ja,forEachOf:ja,eachOfLimit:ka,forEachOfLimit:ka,eachOfSeries:la,forEachOfSeries:la,map:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;I(a,n,b,c)},mapLimit:function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;I(a,b,c,d)},mapSeries:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;I(a,1,b,c)},groupBy:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;K(a,n,b,c)},groupByLimit:function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;K(a,b,c,d)},groupBySeries:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;K(a,1,b,c)},mapValues:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;J(a,n,b,c)},mapValuesLimit:function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;J(a,b,c,d)},mapValuesSeries:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;J(a,1,b,c)},concat:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;Q(a,n,b,c)},concatLimit:function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;Q(a,b,c,d)},concatSeries:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;Q(a,1,b,c)},sortBy:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;if(!l(a))return x(q[1],c);var d=[];D(a,n,function(a,c,e){ba(function(c){return b(a,c)},function(b,f){d[c]={data:a,i:f},e(b)})},function(a){c(a,d.sort(function(c,a){return c.i-a.i}).map(v))})},filter:ma,select:ma,filterLimit:na,selectLimit:na,filterSeries:oa,selectSeries:oa,reject:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;L(!1,a,n,b,c)},rejectLimit:function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:$;L(!1,a,b,c,d)},rejectSeries:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;L(!1,a,1,b,c)},waterfall:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:$;if(!l(a))return x(q[1],b);var c=B(a);(function a(d){for(var e=arguments.length,f=Array(1<e?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];if(d)return void b(d);var h=c.next();h.done?b.apply(void 0,[null].concat(f)):ba(function(a){return h.value.apply(h,f.concat([a]))},a)})()},series:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:$;N(a,1,b)},parallel:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:$;N(a,n,b)},parallelLimit:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;N(a,b,c)},auto:function(a,b,c){var d,e={},f=Object.create(null),g=m(a),h=g.length,j=0,k=null;if(t(b)&&(c=b,b=n),g.forEach(function(b){if(!k){var c=a[b];if(l(c))for(var d,e=c.slice(0,c.length-1),f=0;f<e.length;f++){if(d=o.call(a,c[f])?a[c[f]]:null,!d){k=new Error("safe.auto task `"+b+"` has a non-existent dependency `"+c[f]+"` in "+e.join(", "));break}if(d===b||l(d)&&-1!==d.indexOf(b)){k=new Error("safe.auto cannot execute tasks due to a recursive dependency");break}}}}),k){if(t(c))return c(k);throw new Error(k)}var i=G(c);(function c(){g.forEach(function(g){if(!(d||j>=b||f[g])){var k,m=a[g];if(l(m)){for(var n=m.length-1,p=0;p<n;p++)if(!o.call(e,m[p]))return;k=m[n]}else k=m;f[g]=!0,j++,ba(function(a){return k(a,e)},function(a){for(var b=arguments.length,f=Array(1<b?b-1:0),k=1;k<b;k++)f[k-1]=arguments[k];h--,j--,d||(d=a||0===h,a?i(a,e):(e[g]=f.length?1===f.length?f[0]:f:null,d?i(a,e):c()))})}})})()},whilst:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;R(F(a),b,!1,!0,c)},doWhilst:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;R(F(b),a,!1,!1,c)},during:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;R(a,b,!1,!0,c)},doDuring:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;R(b,a,!1,!1,c)},until:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;R(F(a),b,!0,!0,c)},doUntil:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:$;R(F(b),a,!0,!1,c)},forever:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:$,c=H(b),d=_(a);(function a(){d(da(c,a))})()},reduce:ea,inject:ea,foldl:ea,reduceRight:fa,foldr:fa,queue:function(a,b){return new W(a,b)},priorityQueue:function(a,b){return new V(a,b)},cargo:function(a,b){return new X(a,b)},retry:va,retryable:va,times:function(a,b,c){O(a,n,b,c)},timesLimit:function(a,b,c,d){O(a,b,c,d)},timesSeries:function(a,b,c){O(a,1,b,c)},detect:function(a,b,c){P(a,n,b,c)},detectLimit:function(a,b,c,d){P(a,b,c,d)},detectSeries:function(a,b,c){P(a,1,b,c)},some:pa,any:pa,someLimit:qa,anyLimit:qa,someSeries:ra,anySeries:ra,every:sa,all:sa,everyLimit:ta,allLimit:ta,everySeries:ua,allSeries:ua,applyEach:xa,applyEachSeries:ya,asyncify:aa,wrapSync:aa,memoize:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(a){return a},c={},d={},e=function(){for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=f.pop(),i=b.apply(void 0,f);o.call(c,i)?Y(function(){return h.apply(void 0,c[i])}):o.call(d,i)?d[i].push(h):(d[i]=[h],a.apply(void 0,f.concat([function(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];c[i]=b;var f=d[i];delete d[i],f.forEach(function(a){a.apply(void 0,b)})}])))};return e.memo=c,e.unmemoized=a,e},unmemoize:function(a){return function(){return(a.unmemoized||a).apply(void 0,arguments)}},transform:function(a,b,c,d){3>=arguments.length&&(d=c,c=b,b=l(a)?[]:{}),d=G(d),D(a,n,function(a,d,e){ba(function(e){return c(b,a,d,e)},e)},function(a){return d(a,b)})},reflect:wa,reflectAll:function(a){if(l(a))return a.map(wa);var b={};return m(a).forEach(function(c){b[c]=wa(a[c])}),b},race:function(a,b){if(!l(a))return x(q[0],b);if(!a.length)b();else{var c=G(b);a.forEach(function(a){a(c)})}},tryEach:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:$;if(!r(a,b))return x(q[0],b);var c,d=null;D(a,1,function(a,b,e){ba(a,function(a){for(var b=arguments.length,f=Array(1<b?b-1:0),g=1;g<b;g++)f[g-1]=arguments[g];c=1>=f.length?f[0]:f,d=a,e(!a)})},function(){b(d,c)})}},Object.keys(a["default"]).forEach(function(b){a[b]=a["default"][b]}),Object.defineProperty(a,"__esModule",{value:!0})});

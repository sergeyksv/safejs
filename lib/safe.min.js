!function(n,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var r={exports:{}};t(r.exports),n.actual=r.exports}}(this,function(n){function t(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}var r=this,e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i="object"===("undefined"==typeof self?"undefined":e(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":e(global))&&global.global===global&&global||this,o=i?i.safe:void 0,u="function"==typeof Symbol&&Symbol.iterator,a=Object.keys,f=Object.prototype.hasOwnProperty,c=["Array or Object are required","Array is required","Exactly two arguments are required","Function is required"],l={_debugger:!1},s=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},p=function(n){if(null===n)return!1;var t=void 0===n?"undefined":e(n);return"object"===t||"function"===t},h=function(n){return void 0===n},y=function(n){return"function"==typeof n},v=function(n){return n&&y(n.then)},d=function(n){return n?n.data:void 0},g=function(n){var t=-1,r=n.length;return{next:function(){return++t<r?{value:n[t],key:t,done:!1}:{done:!0}}}},m=function(n){var t=-1,r=n[u]();return{next:function(){t++;var n=r.next();return n.done?{done:!0}:{value:n.value,key:t,done:!1}}}},w=function(n){var t=a(n),r=-1,e=t.length;return{next:function(){var i=t[++r];return r<e?{value:n[i],key:i,done:!1}:{done:!0}}}},_=function(n){return s(n)?g(n):u&&n[u]?m(n):w(n)},k="undefined"===("undefined"==typeof setImmediate?"undefined":e(setImmediate))?"undefined"===("undefined"==typeof process?"undefined":e(process))?"function"===("undefined"==typeof Image?"undefined":e(Image))?function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];if(!y(n))throw new TypeError(c[3]);var i=new Image;i.onerror=function(){n.apply(void 0,r)},i.src="data:image/png,0"}:function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];if(!y(n))throw new TypeError(c[3]);setTimeout.apply(void 0,[n,0].concat(r))}:function(){var n;if(!y(arguments.length<=0?void 0:arguments[0]))throw new TypeError(c[3]);(n=process).nextTick.apply(n,arguments)}:function(){if(!y(arguments.length<=0?void 0:arguments[0]))throw new TypeError(c[3]);setImmediate.apply(void 0,arguments)},b=function(){},A=function(n,t){var r=new TypeError(n);if(!y(t))throw r;t(r)},E=function(n){return function(t){return t(null,n())}},L=function(n){return n=n||null,function(){if(null!==n){var t=n;return n=null,t.apply(void 0,arguments)}}},x=function(n){return function(){if(null===n)throw new Error("Callback was already called.");var t=n;return n=null,t.apply(void 0,arguments)}},S=function(n){return function(){for(var t=!0,r=arguments.length,e=Array(r),i=0;i<r;i++)e[i]=arguments[i];var o=e.pop();e.push(function(){for(var n=this,r=arguments.length,e=Array(r),i=0;i<r;i++)e[i]=arguments[i];t?k(function(){return o.apply(n,e)}):o.apply(this,e)});var u=n.apply(this,e);return t=!1,u}},T=function(n,t){var r;try{r=n(t)}catch(n){return void t(n)}v(r)&&r.then(function(n){return t(null,n)},t)},j=function(n,t){var r=n(t);v(r)&&r.then(function(n){return t(null,n)},t)},O=function(n,t){var r,e,i=function(){if(null===t){if(r)throw new Error(r);throw new Error("Callback was already called.")}var n=t;t=null,n.apply(void 0,arguments)};try{e=n(i)}catch(n){i(n)}if(v(e)){if(r="Resolution method is overspecified. Call a callback *or* return a Promise.",null===t)throw new Error(r);e.then(function(n){return i(null,n)},i)}},I=function(n){return function(){for(var t=this,r=arguments.length,e=Array(r),i=0;i<r;i++)e[i]=arguments[i];var o=e.pop();T(function(r){var i=n.apply(t,e);return v(i)?i:r(null,i)},o)}},P=function(n,t){if(!y(t)||!y(n))throw new TypeError(c[2]);return function(r){if(r)n(r);else{var e;try{for(var i=arguments.length,o=Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];e=t.apply(this,o)}catch(r){return void k(n,r)}h(e)?k(n,null):k(n,null,e)}}},C=function(n,t){if(h(t)||!y(n))throw new TypeError(c[2]);return function(r){if(r)n(r);else if(y(t))try{for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return t.apply(this,i)}catch(r){k(n,r)}else k(n,null,t)}},q=function(n,t){n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1}})},z=function(n,t,r){r=L(r);var e=s(t)?Array(t.length):{};n(t,function(n,t,r){j(n,function(n){for(var i=arguments.length,o=Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];o.length?e[t]=1===o.length?o[0]:o:e[t]=null,r(n)})},function(n){n?r(n):r(null,e)})},Q=function(n,t,r,e,i){if(!s(n))return A(c[1],e);e=L(e);var o=_(n),u=n.length;!function t(a,f){if(a)e(a);else{var c=o.next();c.done?e(null,f):O(function(t){return r(f,i?c.value:n[u-1-c.key],t)},t)}}(null,t)},F=function(n,t,r,e){Q(n,t,r,e,1)},V=function(n,t,r,e){Q(n,t,r,e,0)},D=function(n){return function(t,r,e){e=L(e);var i=0,o=!1,u=_(t),a=!1;!function t(){if(!o&&!a)for(;i<n&&!a&&"break"!==function(){var f=u.next();if(f.done)return o=!0,i<=0&&e(),"break";i++,O(function(n){return r(f.value,f.key,n)},function(r){i--,r?(a=!0,e(r)):!1===o&&i<n?t():o&&i<=0&&e()})}(););}()}},H=D(1),R=D(1/0),B=function(n){return function(t,r,e){return n(t,e)}},M=function(n,t,r){if(!s(n))return A(c[1],r);R(n,B(t),r)},U=function(n,t,r,e){if(!s(n))return A(c[1],e);D(t)(n,B(r),e)},W=function(n,t,r){if(!s(n))return A(c[1],r);H(n,B(t),r)},G=function(n,t,r){if(!p(n))return A(c[0],r);R(n,t,r)},J=function(n,t,r,e){if(!p(n))return A(c[0],e);D(t)(n,r,e)},K=function(n,t,r){if(!p(n))return A(c[0],r);H(n,t,r)},N=function(n,t,r,e){if(!p(t))return A(c[0],e);e=L(e);var i=s(t)?Array(t.length):[],o=0;n(t,function(n,t,e){var u=o++;j(function(t){return r(n,t)},function(n,t){i[u]=t,e(n)})},function(n){n?e(n):e(null,i)})},X=function(n,t,r,e){if(!p(t))return A(c[0],e);e=L(e);var i={};n(t,function(n,t,e){j(function(e){return r(n,t,e)},function(n,r){i[t]=r,e(n)})},function(n){n?e(n):e(null,i)})},Y=function(n,t,r,e){if(!s(t))return A(c[1],e);e=L(e);var i=Array(t.length);n(t,function(n,t,e){j(function(t){return r(n,t)},function(r,o){i[t]={data:n,i:o},e(r)})},function(n){n?e(n):e(null,i.sort(function(n,t){return n.i-t.i}).map(d))})},Z=function(n,r,e,i){if(!s(r))return A(c[1],i);i=L(i);var o=Array(r.length);n(r,function(n,t,r){j(function(t){return e(n,t)},function(n,e){o[t]=e,r(n)})},function(n){if(n)i(n);else{var r;i(null,(r=[]).concat.apply(r,t(o)))}})},$=function(n,t,r,e){t=parseInt(t);for(var i=Array(t),o=0;o<t;o++)i[o]=o;N(n,i,r,e)},nn=function(n,t,r,e,i){if(!s(r))return A(c[1],i);i=L(i);var o=[];n(r,function(n,r,i){j(function(t){return e(n,t)},function(e,u){(t&&u||!t&&!u)&&o.push({data:n,i:r}),i(e)})},function(n){n?i(n):i(null,o.sort(function(n,t){return n.i-t.i}).map(d))})},tn=function(n,t,r){nn(R,!0,n,t,r)},rn=function(n,t,r,e){nn(D(t),!0,n,r,e)},en=function(n,t,r){nn(H,!0,n,t,r)},on=function(n,t,r,e){e=L(e);var i;n(t,function(n,t,e){j(function(t){return r(n,t)},function(t){t&&(i=n),e(i||null)})},function(){return e(i)})},un=function(n,t,r,e,i){i=L(i);var o=t;n(r,function(n,r,i){j(function(t){return e(n,t)},function(n){t?(n||(o=!1),i(!n)):(n&&(o=!0),i(o))})},function(){return i(o)})},an=function(n,t,r){un(R,!1,n,t,r)},fn=function(n,t,r,e){un(D(t),!1,n,r,e)},cn=function(n,t,r){un(H,!1,n,t,r)},ln=function(n,t,r){un(R,!0,n,t,r)},sn=function(n,t,r,e){un(D(t),!0,n,r,e)},pn=function(n,t,r){un(H,!0,n,t,r)},hn=function(n,t,r,e,i){function o(){O(t,C(i,u))}function u(t){O(n,C(i,function(n){n==r?i(null,t):o()}))}i=L(i),e?u():o()},yn=function(n){return function(t){for(var r=function(){for(var r=this,e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];var u=i.pop();n(t,function(n,t,e){return n.apply(r,i.concat(e))},u)},e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return 0===i.length?r:r.apply(this,i)}},vn=function(n,t,r){function e(n,e){H(Array(o),function(n,r,a){T(function(n){return t(n,e)},function(n,t){if(i=n||null,e={err:i,result:t},n&&r<o-1)if(u&&!u(n))a(!0);else{var c=f(r+1);c>0?setTimeout(a,c):a()}else a(!n)})},function(){(n||r||b)(i,e)})}if(arguments.length<1||arguments.length>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");var i,o,u,a=0,f=function(n){return a};return y(n)?(r=t,t=n,o=5):p(n)?(o=parseInt(n.times)||5,y(n.interval)?f=n.interval:a=parseInt(n.interval)||a,n.errorFilter&&(u=n.errorFilter)):o=parseInt(o)||5,r?e():e},dn=function(n){return function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];var i=r.pop();r.push(function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];if(n)i(null,{error:n});else{var o=void 0;o=r.length?1===r.length?r[0]:r:null,i(null,{value:o})}});var o=n.apply(this,r);v(o)&&o.then(function(n){i(null,{value:n})},function(n){i(null,{error:n})})}},gn=function(n,t,r){if(Object.defineProperties?Object.defineProperties(this,{name:{enumerable:!0,configurable:!1,writable:!1,value:r},__worker:{enumerable:!1,configurable:!1,writable:!1,value:n},__workers:{enumerable:!1,configurable:!1,writable:!0,value:0},__workersList:{enumerable:!1,configurable:!1,writable:!0,value:[]},tasks:{enumerable:!1,configurable:!1,writable:!0,value:[]}}):(this.name=r,this.__worker=n,this.__workers=0,this.__workersList=[],this.tasks=[]),!t)throw new TypeError("Concurrency must not be zero");this.concurrency=t,this.started=!1,this.paused=!1};gn.prototype.saturated=b,gn.prototype.empty=b,gn.prototype.drain=b,gn.prototype.error=b,gn.prototype.kill=function(){this.drain=b,this.tasks=[]},gn.prototype.length=function(){return this.tasks.length},gn.prototype.running=function(){return this.__workers},gn.prototype.idle=function(){return this.tasks.length+this.__workers===0},gn.prototype.pause=function(){this.paused=!0},gn.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var n=0,t=_(this.tasks);n<this.concurrency&&!1===t.next().done;n++)this.__execute()}},gn.prototype.workersList=function(){return this.__workersList},gn.prototype.__insert=function(n,r,e){if(null!=e&&!y(e))throw new TypeError(c[3]);if(this.started=!0,s(n)||(n=[n]),0===n.length)return this.drain();e=y(e)?e:b;var i=n.length,o=0,u=n.map(function(n){return{data:n,priority:r,callback:x(e)}});if("Priority Queue"===this.name){var a=this.tasks.length,f=a?this.tasks[0].priority:0,l=a?this.tasks[a-1].priority:0;if(r>f){var p;(p=this.tasks).unshift.apply(p,t(u))}else{var h;(h=this.tasks).push.apply(h,t(u))}f>=r&&r<l&&this.tasks.sort(function(n,t){return t.priority-n.priority})}else if(r){var v;(v=this.tasks).unshift.apply(v,t(u))}else{var d;(d=this.tasks).push.apply(d,t(u))}for(;o<i&&!1!==this.__execute();o++);};var mn=function(n,t){gn.call(this,n,t,"Priority Queue")},wn=function(n,t){gn.call(this,n,t,"Queue")},_n=function(n,t){gn.call(this,n,1,"Cargo"),this.payload=t};q(mn,gn),q(wn,gn),q(_n,gn),mn.prototype.push=function(n,t,r){this.__insert(n,parseInt(t)||0,r)},wn.prototype.push=_n.prototype.push=function(n,t){this.__insert(n,!1,t)},wn.prototype.unshift=function(n,t){this.__insert(n,!0,t)},wn.prototype.__execute=mn.prototype.__execute=function(){var n=this;if(this.paused||this.__workers>=this.concurrency||0===this.tasks.length)return!1;var t=this.tasks.shift();this.__workersList.push(t),0===this.tasks.length&&this.empty();var r=t.data;++this.__workers===this.concurrency&&this.saturated(),O(function(e){return n.__worker.call(t,r,e)},function(){n.__workers--;for(var e=0;e<n.__workersList.length;e++)if(n.__workersList[e]===t){n.__workersList.splice(e,1);break}t.callback.apply(t,arguments),(arguments.length<=0?void 0:arguments[0])&&n.error(arguments.length<=0?void 0:arguments[0],r),n.idle()&&n.drain(),n.__execute()})},_n.prototype.__execute=function(){var n=this;if(this.paused||this.__workers>=this.concurrency||0===this.tasks.length)return!1;var t=this.tasks.splice(0,this.payload);this.__workersList.push.apply(this.__workersList,t),0===this.tasks.length&&this.empty();var r=t.map(d);++this.__workers===this.concurrency&&this.saturated(),O(function(t){return n.__worker.call(null,r,t)},function(){for(var r=arguments.length,e=Array(r),i=0;i<r;i++)e[i]=arguments[i];n.__workers--,t.forEach(function(t){for(var r=0;r<n.__workersList.length;r++)if(n.__workersList[r]===t){n.__workersList.splice(r,1);break}t.callback.apply(t,e)}),n.idle()&&n.drain(),n.__execute()})},n.default={noConflict:function(){return i.safe=o,r},noop:b,yield:function(n){return k(n)},nextTick:"undefined"!==("undefined"==typeof process?"undefined":e(process))&&process.nextTick?process.nextTick:k,back:k,setImmediate:k,apply:function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.apply(void 0,r.concat(e))}},async:function(n,t){for(var r=arguments.length,e=Array(r>2?r-2:0),i=2;i<r;i++)e[i-2]=arguments[i];return function(r){try{return n[t].apply(n,e.concat(r))}catch(n){k(r,n)}}},inherits:q,args:function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];var e=t.length,i=parseInt(this);if(i!==i)throw new Error('Pass arguments to "safe.args" only through ".apply" method!');if(0===e||i>e)return[];for(var t=Array(e-i),o=i;o<e;o++)t[o-i]=o<0?null:t[o];return t},ensureAsync:S,setDebugger:function(n){l._debugger=!!y(n)&&n},constant:function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return function(n){return n.apply(void 0,[null].concat(t))}},result:function(n,t){if(!y(t)||!y(n))throw new TypeError(c[2]);return function(){var r;try{for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];r=t.apply(this,i)}catch(t){return void n(t)}h(r)?k(n,null):k(n,null,r)}},sure_result:P,trap_sure_result:P,sure:C,trap_sure:C,sure_spread:function(n,t){if(h(t)||!y(n))throw new TypeError(c[2]);return function(r){if(r)n(r);else try{return t.apply(this,arguments.length<=1?void 0:arguments[1])}catch(r){k(n,r)}}},spread:function(n){return function(t){return n.apply(this,t)}},trap:function(n,t){if(h(n))throw new TypeError(c[2]);return function(){for(var r=arguments.length,e=Array(r),i=0;i<r;i++)e[i]=arguments[i];h(t)&&(t=n,n=e[e.length-1]);try{return t.apply(this,e)}catch(t){k(n,t)}}},wrap:function(n,t){if(!y(n)||!y(t))throw new TypeError(c[2]);return function(){for(var r=arguments.length,e=Array(r),i=0;i<r;i++)e[i]=arguments[i];e.push(t);try{return n.apply(this,e)}catch(n){k(t,n)}}},run:O,each:M,forEach:M,eachLimit:U,forEachLimit:U,eachSeries:W,forEachSeries:W,eachOf:G,forEachOf:G,eachOfLimit:J,forEachOfLimit:J,eachOfSeries:K,forEachOfSeries:K,map:function(n,t,r){N(R,n,t,r)},mapLimit:function(n,t,r,e){N(D(t),n,r,e)},mapSeries:function(n,t,r){N(H,n,t,r)},mapValues:function(n,t,r){X(R,n,t,r)},mapValuesLimit:function(n,t,r,e){X(D(t),n,r,e)},mapValuesSeries:function(n,t,r){X(H,n,t,r)},concat:function(n,t,r){Z(R,n,t,r)},concatLimit:function(n,t,r,e){Z(D(t),n,r,e)},concatSeries:function(n,t,r){Z(H,n,t,r)},sortBy:function(n,t,r){Y(R,n,t,r)},filter:tn,select:tn,filterLimit:rn,selectLimit:rn,filterSeries:en,selectSeries:en,reject:function(n,t,r){nn(R,!1,n,t,r)},rejectLimit:function(n,t,r,e){nn(D(t),!1,n,r,e)},rejectSeries:function(n,t,r){nn(H,!1,n,t,r)},waterfall:function(n,t){if(!p(n))return A(c[0],t);t=L(t);var r=_(n);!function n(e){for(var i=arguments.length,o=Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];if(e)t(e);else{var a=r.next();a.done?t.apply(void 0,[null].concat(o)):O(function(n){return a.value.apply(a,o.concat([n]))},n)}}()},series:function(n,t){z(H,n,t)},parallel:function(n,t){z(R,n,t)},parallelLimit:function(n,t,r){z(D(t),n,r)},auto:function(n,t,r){var e,i={},o={},u=0,c=null,l=a(n),p=l.length;if(y(t)&&(r=t,t=1/0),l.forEach(function(t){var r=n[t];if(s(r))for(var e,i=0,o=r.length-1;i<o;i++){if(!(e=n[r[i]])){c=new Error("Has inexistant dependency");break}if(e===t||s(e)&&-1!==e.indexOf(t)){c=new Error("Has nonexistent dependency in "+e.join(", "));break}}}),c){if(y(r))return r(c);throw new Error(c)}r=L(r),function a(){l.forEach(function(c){if(!(e||u>=t||o[c])){var l,h=n[c];if(s(h)){for(var y=h.length-1,v=0;v<y;v++)if(!f.call(i,h[v]))return;l=h[y]}else l=h;o[c]=!0,++u,O(function(n){return l(n,i)},function(n){for(var t=arguments.length,o=Array(t>1?t-1:0),f=1;f<t;f++)o[f-1]=arguments[f];p--,u--,e||(e=n||0===p,n?r(n,i):(o.length?i[c]=1===o.length?o[0]:o:i[c]=null,e?r(n,i):a()))})}})}()},whilst:function(n,t,r){hn(E(n),t,!1,!0,r)},doWhilst:function(n,t,r){hn(E(t),n,!1,!1,r)},during:function(n,t,r){hn(n,t,!1,!0,r)},doDuring:function(n,t,r){hn(t,n,!1,!1,r)},until:function(n,t,r){hn(E(n),t,!0,!0,r)},doUntil:function(n,t,r){hn(E(t),n,!0,!1,r)},forever:function(n,t){t=x(t),n=S(n),function r(){n(C(t,r))}()},reduce:F,inject:F,foldl:F,reduceRight:V,foldr:V,queue:function(n,t){return new wn(n,t)},priorityQueue:function(n,t){return new mn(n,t)},cargo:function(n,t){return new _n(n,t)},retry:vn,retryable:vn,times:function(n,t,r){$(D(n),n,t,r)},timesLimit:function(n,t,r,e){$(D(t),n,r,e)},timesSeries:function(n,t,r){$(H,n,t,r)},detect:function(n,t,r){on(R,n,t,r)},detectLimit:function(n,t,r,e){on(D(t),n,r,e)},detectSeries:function(n,t,r){on(H,n,t,r)},some:an,any:an,someLimit:fn,anyLimit:fn,someSeries:cn,anySeries:cn,every:ln,all:ln,everyLimit:sn,allLimit:sn,everySeries:pn,allSeries:pn,applyEach:yn(R),applyEachSeries:yn(H),asyncify:I,wrapSync:I,memoize:function(n,t){var r={},e={};t=t||function(n){return n};var i=function(){for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];var a=o.pop(),c=t.apply(void 0,o);f.call(r,c)?k(function(){return a.apply(null,r[c])}):f.call(e,c)?e[c].push(a):(e[c]=[a],n.apply(void 0,o.concat([function(){for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];r[c]=t;var o=e[c];delete e[c],o.forEach(function(n){n.apply(void 0,t)})}])))};return i.memo=r,i.unmemoized=n,i},unmemoize:function(n){return function(){return(n.unmemoized||n).apply(void 0,arguments)}},transform:function(n,t,r,e){3===arguments.length&&(e=r,r=t,t=s(n)?[]:{}),e=e||b,R(n,function(n,e,i){return r(t,n,e,i)},function(n){return e(n,t)})},reflect:dn,reflectAll:function(n){if(s(n))return n.map(dn);var t={};return a(n).forEach(function(r){t[r]=dn(n[r])}),t},race:function(n,t){if(!s(n))return A(c[0],t);t=L(t),n.length?n.forEach(function(n){n(t)}):t()}},Object.keys(n.default).forEach(function(t){n[t]=n.default[t]}),Object.defineProperty(n,"__esModule",{value:!0})});
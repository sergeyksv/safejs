/*!
 * safejs
 * https://github.com/sergeyksv/safejs
 *
 * Copyright 2012-2021 PushOk Software
 * Licensed under MIT
 */
!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(n.safe={})}(this,(function(n){"use strict";function r(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var t=Object.keys,e=Array.isArray,i=Object.prototype.hasOwnProperty,o="Callback was already called.",u=["Array or Object are required","Array is required","Exactly two arguments are required","Function is required"],a=function(){},c=function(n){if(null===n)return!1;var r=typeof n;return"object"===r||"function"===r},f=function(n){return void 0===n},s=function(n){return"function"==typeof n},l=function(n){return n&&s(n.then)},h=function(n){if(n)return n.data},p=function(n){return n&&n.constructor&&"AsyncFunction"===n.constructor.name},v=function(n,r){var t=new TypeError(n);if(!s(r)||r===a)throw t;r(t)},d=function(n){var r=!1;return function(){if(!r&&null!=n)return r=!0,n.apply(void 0,arguments)}},y=function(n){var r=!1;return function(){if(r)throw new Error(o);return r=!0,n.apply(void 0,arguments)}},m=function(n){return e(n)?(r=n,i=-1,{next:function(){return++i<r.length?{value:r[i],key:i,done:!1}:{done:!0}}}):n["function"==typeof Symbol&&Symbol.iterator]?function(n){var r=-1,t=n[Symbol.iterator]();return{next:function(){r++;var n=t.next();return n.done?{done:!0}:{value:n.value,key:r,done:!1}}}}(n):function(n){var r=t(n),e=r.length,i=-1;return{next:function(){i++;var t=r[i];return i<e?{value:n[t],key:t,done:!1}:{done:!0}}}}(n);var r,i},w=function(n,r,t,e){var i=0,o=!1,u=m(n),a=!1,c=d(e);!function n(){if(!o&&!a)for(;i<r&&!1===a;){var e=u.next();if(e.done){o=!0,i<=0&&c();break}i++,t(e.value,e.key,(function(t){i--,t?(a=!0,c(t)):!1===o&&i<r?n():o&&i<=0&&c()}))}}()},g=function(n){return function(r){return r(null,n())}},_="function"==typeof queueMicrotask?function(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];queueMicrotask((function(){n.apply(void 0,t)}))}:"function"==typeof setImmediate?setImmediate:"undefined"==typeof process?"function"==typeof Image?function(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];var i=new Image;i.onerror=function(){n.apply(void 0,t)},i.src="data:image/png,0"}:function(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];setTimeout.apply(void 0,[n,0].concat(t))}:function(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];process.nextTick((function(){n.apply(void 0,t)}))},k=function(){if(!s(arguments.length<=0?void 0:arguments[0]))throw new TypeError(u[3]);_.apply(void 0,arguments)},b=function(n,r){n.then((function(n){k(r,null,n)}),(function(n){k(r,n)}))},E=function(n,r){if(p(n))b(n(),r);else{var t,e,i=!1;try{e=n(u)}catch(n){if(!n)throw n;_(u,n)}if(l(e)){if(t="Resolution method is overspecified. Call a callback *or* return a Promise.",i)throw new Error(t);b(e,u)}}function u(){if(i)throw(arguments.length<=0?void 0:arguments[0])||new Error(t||o);i=!0,r.apply(void 0,arguments)}},S=function(n,r,t,e){if(!c(n))return v(u[0],e);var i=[],o=0;w(n,r,(function(n,r,e){var u=o++;E((function(r){return t(n,r)}),(function(n,r){i[u]=r,e(n)}))}),(function(n){e(n,i)}))},L=function(n,r,t,e){if(!c(n))return v(u[0],e);var i={};w(n,r,(function(n,r,e){E((function(e){return t(n,r,e)}),(function(n,t){i[r]=t,e(n)}))}),(function(n){e(n,i)}))},A=function(n,r,t,e){if(!c(n))return v(u[0],e);S(n,r,(function(n,r){E((function(r){return t(n,r)}),(function(t,e){if(t)return r(t);r(t,{key:e,val:n})}))}),(function(n,r){var t={};r.forEach((function(n){i.call(t,n.key)?t[n.key].push(n.val):t[n.key]=[n.val]})),e(n,t)}))},x=function(n,r,t,i,o){if(!e(r))return v(u[1],o);var a=[];w(r,t,(function(r,t,e){E((function(n){return i(r,n)}),(function(i,o){(n&&o||!n&&!o)&&a.push({data:r,i:t}),e(i)}))}),(function(n){o(n,a.sort((function(n,r){return n.i-r.i})).map(h))}))},O=function(n,r,t,e,i){var o=n;w(r,t,(function(r,t,i){E((function(n){return e(r,n)}),(function(r){n?(r||(o=!1),i(!r)):(r&&(o=!0),i(o))}))}),(function(){return i(o)}))},j=function(n,r,t){var i=e(n)?[]:{};w(n,r,(function(n,r,t){E(n,(function(n){for(var e=arguments.length,o=new Array(e>1?e-1:0),u=1;u<e;u++)o[u-1]=arguments[u];o.length?i[r]=1===o.length?o[0]:o:i[r]=null,t(n)}))}),(function(n){t(n,i)}))},T=function(n,r,t,e){for(var i=parseInt(n),o=Array(i),u=0;u<i;u++)o[u]=u;S(o,r,t,e)},P=function(n,r,t,e){var i;w(n,r,(function(n,r,e){E((function(r){return t(n,r)}),(function(r){r&&(i=n),e(i||null)}))}),(function(){return e(i)}))},I=function(n,r,t,i){if(!e(n))return v(u[1],i);S(n,r,t,(function(n,r){var t;i(n,(t=[]).concat.apply(t,r))}))},q=function(n,r){if(!s(r)||!s(n))throw new TypeError(u[2]);return function(){var t;try{for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t=r.apply(this,i)}catch(r){if(!r)throw r;return void n(r)}f(t)?k(n,null):k(n,null,t)}},z=function(n,r){if(!s(r)||!s(n))throw new TypeError(u[2]);return function(t){if(t)n(t);else{var e;try{for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];e=r.apply(this,o)}catch(r){if(!r)throw r;return void k(n,r)}f(e)?k(n,null):k(n,null,e)}}},B=function(n,r){if(f(r)||!s(n))throw new TypeError(u[2]);return function(t){if(t)n(t);else if(s(r))try{for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return r.apply(this,i)}catch(r){if(!r)throw r;k(n,r)}else k(n,null,r)}},V=function(n,r){if(f(n))throw new TypeError(u[2]);return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];f(r)&&(r=n,n=e[e.length-1]);try{return r.apply(this,e)}catch(r){if(!r)throw r;k(n,r)}}},M=function(n,r){if(!s(n)||!s(r))throw new TypeError(u[2]);return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.push(r);try{return n.apply(this,e)}catch(n){if(!n)throw n;k(r,n)}}},C=function(n,r){if(f(r)||!s(n))throw new TypeError(u[2]);return function(t){if(t)n(t);else try{return r.apply(this,arguments.length<=1?void 0:arguments[1])}catch(r){if(!r)throw r;k(n,r)}}},F=function(n){return function(r){return n.apply(this,r)}},Q=function(n,r,t,e,i){function o(){E(r,B(i,u))}function u(r){E(n,B(i,(function(n){n==t?i(null,r):o()})))}e?u():o()},R=function(n,r,t,i,o){if(void 0===i&&(i=a),!e(n))return v(u[1],i);var c=m(n),f=n.length;!function r(e,u){if(e)i(e);else{var a=c.next();a.done?i(null,u):E((function(r){return t(u,o?a.value:n[f-1-a.key],r)}),r)}}(null,r)},D=function(n){return function(r){for(var t=function(){for(var t=this,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var u=i.pop();w(r,n,(function(n,r,e){E((function(r){return n.apply(t,i.concat(r))}),e)}),u)},e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return 0===i.length?t:t.apply(this,i)}},U=function(){function n(n,r){var t=parseInt(r);if(!t)throw new TypeError("Concurrency must not be zero");Object.defineProperties(this,{__worker:{enumerable:!1,configurable:!1,writable:!1,value:n},__workers:{enumerable:!1,configurable:!1,writable:!0,value:0},__workersList:{enumerable:!1,configurable:!1,writable:!0,value:[]},__isProcessing:{enumerable:!1,configurable:!1,writable:!0,value:!1},__processingScheduled:{enumerable:!1,configurable:!1,writable:!0,value:!1},tasks:{enumerable:!1,configurable:!1,writable:!1,value:[]},concurrency:{enumerable:!0,configurable:!1,writable:!0,value:t},buffer:{enumerable:!0,configurable:!1,writable:!0,value:t/4},started:{enumerable:!0,configurable:!1,writable:!0,value:!1},paused:{enumerable:!0,configurable:!1,writable:!0,value:!1}})}var r=n.prototype;return r.__insert=function(n,r,t){var i=this;if(null!=t&&!s(t))throw new TypeError(u[3]);this.started=!0;var o=e(n)?n:[n];if(0===o.length&&this.idle())return _((function(){i.drain()}));var c,f,l=o.map((function(n){return{data:n,callback:y(t||a)}}));r?(c=this.tasks).unshift.apply(c,l):(f=this.tasks).push.apply(f,l);this.__processingScheduled||(this.__processingScheduled=!0,_((function(){i.__processingScheduled=!1,i.__execute()})))},r.__execute=function(){var n=this;if(!this.__isProcessing){this.__isProcessing=!0;for(var r=function(){var r=n.tasks.shift();n.__workersList.push(r),0===n.tasks.length&&n.empty();var t=r.data;n.__workers++,n.__workers===n.concurrency&&n.saturated(),E((function(r){return n.__worker(t,r)}),(function(){n.__workers--;var e=n.__workersList.indexOf(r);0===e?n.__workersList.shift():e>0&&n.__workersList.splice(e,1),r.callback.apply(r,arguments),(arguments.length<=0?void 0:arguments[0])&&n.error(arguments.length<=0?void 0:arguments[0],t),n.__workers<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.__execute()}))};!this.paused&&this.__workers<this.concurrency&&this.tasks.length;)r();this.__isProcessing=!1}},r.remove=function(n){var r=this,t=this.tasks.filter((function(r){return!n(r.data)}));this.tasks.length=t.length,t.forEach((function(n,t){r.tasks[t]=n}))},r.push=function(n,r){this.__insert(n,!1,r)},r.saturated=function(){},r.unsaturated=function(){},r.empty=function(){},r.drain=function(){},r.error=function(){},r.kill=function(){delete this.drain,this.tasks.length=0},r.length=function(){return this.tasks.length},r.running=function(){return this.__workers},r.idle=function(){return this.tasks.length+this.__workers===0},r.pause=function(){this.paused=!0},r.resume=function(){var n=this;this.paused&&(this.paused=!1,_((function(){return n.__execute()})))},r.workersList=function(){return this.__workersList},n}(),W=function(n){function t(r,t){return n.call(this,r,t,"Priority Queue")||this}r(t,n);var i=t.prototype;return i.push=function(n,r,t){this.__insert(n,r||0,t)},i.__insert=function(n,r,t){var i=this;if(null!=t&&!s(t))throw new TypeError(u[3]);this.started=!0;var o=e(n)?n:[n];if(0===o.length&&this.idle())return _((function(){i.drain()}));var c,f,l=o.map((function(n){return{data:n,priority:r,callback:y(t||a)}})),h=this.tasks.length,p=h?this.tasks[0].priority:0,v=h?this.tasks[h-1].priority:0;r>p?(c=this.tasks).unshift.apply(c,l):(f=this.tasks).push.apply(f,l);p>=r&&r<v&&this.tasks.sort((function(n,r){return r.priority-n.priority})),this.__processingScheduled||(this.__processingScheduled=!0,_((function(){i.__processingScheduled=!1,i.__execute()})))},t}(U),G=function(n){function t(r,t){return n.call(this,r,t,"Queue")||this}return r(t,n),t.prototype.unshift=function(n,r){this.__insert(n,!0,r)},t}(U),H=function(n){function t(r,t){var e;e=n.call(this,r,1,"Cargo")||this;var i=parseInt(t);if(!i)throw new TypeError("Payload must not be zero");return Object.defineProperties(function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e),{payload:{enumerable:!0,configurable:!1,writable:!0,value:i}}),e}return r(t,n),t.prototype.__execute=function(){var n=this;if(!this.__isProcessing){this.__isProcessing=!0;for(var r=function(){var r,t=n.tasks.splice(0,n.payload);(r=n.__workersList).push.apply(r,t),0===n.tasks.length&&n.empty();var e=t.map(h);n.__workers++,n.__workers===n.concurrency&&n.saturated(),E((function(r){return n.__worker(e,r)}),(function(){for(var r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];n.__workers--,t.forEach((function(r){var t=n.__workersList.indexOf(r);0===t?n.__workersList.shift():t>0&&n.__workersList.splice(t,1),r.callback.apply(r,e)})),n.__workers<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.__execute()}))};!this.paused&&this.__workers<this.concurrency&&this.tasks.length;)r();this.__isProcessing=!1}},t}(U),J="undefined"!=typeof process&&process.nextTick?process.nextTick:"function"==typeof queueMicrotask?queueMicrotask:_,K=function(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];var i=function(){for(var r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];return n.apply(void 0,t.concat(e))};return i},N=function(){var n=arguments.length,r=parseInt(this);if(r!=r)throw new Error('Pass arguments to "safe.args" only through ".apply" method!');if(0===n||r>n)return[];for(var t=Array(n-r),e=r;e<n;e++)t[e-r]=e<0?null:e<0||arguments.length<=e?void 0:arguments[e];return t},X=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return function(n){return n.apply(void 0,[null].concat(r))}},Y=function(n){return function(){for(var r=!0,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=e[e.length-1];e[e.length-1]=function(){for(var n=this,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r?_((function(){return o.apply(n,e)})):o.apply(this,e)};var u=n.apply(this,e);return r=!1,u}},Z=function(n){return function(){for(var r=this,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=e.pop();E((function(t){var i=n.apply(r,e);return p(n)||l(i)?i:t(null,i)}),o)}},$=function(n,r){n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1}})},nn=function(n,r){for(var t=arguments.length,e=new Array(t>2?t-2:0),i=2;i<t;i++)e[i-2]=arguments[i];var o=function(t){try{return n[r].apply(n,e.concat(t))}catch(n){if(!n)throw n;k(t,n)}};return o},rn=function(n,r,t){if(void 0===t&&(t=a),e(n)){var i=[];w(n,1/0,(function(n,t,e){E((function(t){return r(n,t)}),(function(r,o){i[t]={data:n,i:o},e(r)}))}),(function(n){t(n,i.sort((function(n,r){return n.i-r.i})).map(h))}))}else v(u[1],t)},tn=function(n,r){if(void 0===r&&(r=a),e(n)){var t=m(n);!function n(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];if(e)r(e);else{var a=t.next();a.done?r.apply(void 0,[null].concat(o)):E((function(n){return a.value.apply(a,o.concat([n]))}),n)}}()}else v(u[1],r)},en=function(n,r){void 0===r&&(r=a),j(n,1,r)},on=function(n,r){void 0===r&&(r=a),j(n,1/0,r)},un=function(n,r,t){void 0===t&&(t=a),j(n,r,t)},an=function(n,r,t,e){void 0===e&&(e=a),R(n,r,t,e,1)},cn=function(n,r,t,e){void 0===e&&(e=a),R(n,r,t,e,0)},fn=function(n,r,t){void 0===t&&(t=a),e(n)?w(n,1/0,(function(n,t,e){E((function(t){return r(n,t)}),e)}),t):v(u[1],t)},sn=function(n,r,t,i){void 0===i&&(i=a),e(n)?w(n,r,(function(n,r,e){E((function(r){return t(n,r)}),e)}),i):v(u[1],i)},ln=function(n,r,t){void 0===t&&(t=a),e(n)?w(n,1,(function(n,t,e){E((function(t){return r(n,t)}),e)}),t):v(u[1],t)},hn=function(n,r,t){void 0===t&&(t=a),c(n)?w(n,1/0,(function(n,t,e){E((function(e){return r(n,t,e)}),e)}),t):v(u[0],t)},pn=function(n,r,t,e){void 0===e&&(e=a),c(n)?w(n,r,(function(n,r,e){E((function(e){return t(n,r,e)}),e)}),e):v(u[0],e)},vn=function(n,r,t){void 0===t&&(t=a),c(n)?w(n,1,(function(n,t,e){E((function(e){return r(n,t,e)}),e)}),t):v(u[0],t)},dn=function(n,r,t){void 0===t&&(t=a),S(n,1/0,r,t)},yn=function(n,r,t,e){void 0===e&&(e=a),S(n,r,t,e)},mn=function(n,r,t){void 0===t&&(t=a),S(n,1,r,t)},wn=function(n,r,t){void 0===t&&(t=a),L(n,1/0,r,t)},gn=function(n,r,t,e){void 0===e&&(e=a),L(n,r,t,e)},_n=function(n,r,t){void 0===t&&(t=a),L(n,1,r,t)},kn=function(n,r,t){void 0===t&&(t=a),I(n,1/0,r,t)},bn=function(n,r,t,e){void 0===e&&(e=a),I(n,r,t,e)},En=function(n,r,t){void 0===t&&(t=a),I(n,1,r,t)},Sn=function(n,r,t){void 0===t&&(t=a),A(n,1/0,r,t)},Ln=function(n,r,t,e){void 0===e&&(e=a),A(n,r,t,e)},An=function(n,r,t){void 0===t&&(t=a),A(n,1,r,t)},xn=function(n,r,t){void 0===t&&(t=a),x(!0,n,1/0,r,t)},On=function(n,r,t,e){void 0===e&&(e=a),x(!0,n,r,t,e)},jn=function(n,r,t){void 0===t&&(t=a),x(!0,n,1,r,t)},Tn=function(n,r,t){void 0===t&&(t=a),x(!1,n,1/0,r,t)},Pn=function(n,r,t,e){void 0===e&&(e=a),x(!1,n,r,t,e)},In=function(n,r,t){void 0===t&&(t=a),x(!1,n,1,r,t)},qn=function(n,r,t){void 0===t&&(t=a),O(!1,n,1/0,r,t)},zn=function(n,r,t,e){void 0===e&&(e=a),O(!1,n,r,t,e)},Bn=function(n,r,t){void 0===t&&(t=a),O(!1,n,1,r,t)},Vn=function(n,r,t){void 0===t&&(t=a),O(!0,n,1/0,r,t)},Mn=function(n,r,t,e){void 0===e&&(e=a),O(!0,n,r,t,e)},Cn=function(n,r,t){void 0===t&&(t=a),O(!0,n,1,r,t)},Fn=function(n,r,o){var u,a={},c=Object.create(null),f=t(n),l=f.length,h=0,p=null;if(s(r)&&(o=r,r=1/0),f.forEach((function(r){if(!p){var t=n[r];if(e(t))for(var o=t.slice(0,t.length-1),u=0;u<o.length;u++){var a=i.call(n,t[u])?n[t[u]]:null;if(!a){p=new Error("safe.auto task `"+r+"` has a non-existent dependency `"+t[u]+"` in "+o.join(", "));break}if(a===r||e(a)&&-1!==a.indexOf(r)){p=new Error("safe.auto cannot execute tasks due to a recursive dependency");break}}}})),p){if(s(o))return void o(p);throw new Error(p)}var v=d(o);!function t(){f.forEach((function(o){if(!(u||h>=r||c[o])){var f,s=n[o];if(e(s)){for(var p=s.length-1,d=0;d<p;d++)if(!i.call(a,s[d]))return;f=s[p]}else f=s;c[o]=!0,h++,E((function(n){return f(n,a)}),(function(n){if(l--,h--,!u)if(u=n||0===l,n)v(n,a);else{for(var r=arguments.length,e=new Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];e.length?a[o]=1===e.length?e[0]:e:a[o]=null,u?v(n,a):t()}}))}}))}()},Qn=function(n,r,t){void 0===t&&(t=a),Q(g(n),r,!1,!0,t)},Rn=function(n,r,t){void 0===t&&(t=a),Q(g(r),n,!1,!1,t)},Dn=function(n,r,t){void 0===t&&(t=a),Q(n,r,!1,!0,t)},Un=function(n,r,t){void 0===t&&(t=a),Q(r,n,!1,!1,t)},Wn=function(n,r,t){void 0===t&&(t=a),Q(g(n),r,!0,!0,t)},Gn=function(n,r,t){void 0===t&&(t=a),Q(g(r),n,!0,!1,t)},Hn=function(n,r){void 0===r&&(r=a);var t=y(r),e=Y(n);!function n(){e(B(t,n))}()},Jn=function(n,r){void 0===r&&(r=function(n){return n});var t={},e={},o=function(){for(var o=arguments.length,u=new Array(o),a=0;a<o;a++)u[a]=arguments[a];var c=u.pop(),f=r.apply(void 0,u);i.call(t,f)?_((function(){return c.apply(void 0,t[f])})):i.call(e,f)?e[f].push(c):(e[f]=[c],n.apply(void 0,u.concat([function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t[f]=r;var o=e[f];delete e[f],o.forEach((function(n){n.apply(void 0,r)}))}])))};return o.memo=t,o.unmemoized=n,o},Kn=function(n){return function(){return(n.unmemoized||n).apply(void 0,arguments)}},Nn=function(n,r,t){if(arguments.length<1||arguments.length>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");var e,i,o,u=0,f=function(){return u};s(n)?(t=r,r=n,i=5):c(n)?(i=parseInt(n.times)||5,s(n.interval)?f=n.interval:u=parseInt(n.interval)||u,n.errorFilter&&(o=n.errorFilter)):i=parseInt(i)||5;var l=function(n,u){var c=u;w(Array(i),1,(function(n,t,u){E((function(n){return r(n,c)}),(function(n,r){if(c={err:e=n||null,result:r},n&&t<i-1)if(o&&!o(n))u(!0);else{var a=f(t+1);a>0?setTimeout(u,a):u()}else u(!n)}))}),(function(){(n||t||a)(e,c)}))};return t?l():l},Xn=function(n,r,t,i){arguments.length<=3&&(i=t,t=r,r=e(n)?[]:{}),i=d(i),w(n,1/0,(function(n,e,i){E((function(i){return t(r,n,e,i)}),i)}),(function(n){return i(n,r)}))},Yn=function(n){return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var i=t[t.length-1];t[t.length-1]=function(n){if(n)i(null,{error:n});else{for(var r,t=arguments.length,e=new Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];r=e.length?1===e.length?e[0]:e:null,i(null,{value:r})}};var o=n.apply(this,t);(p(n)||l(o))&&o.then((function(n){k(i,null,{value:n})}),(function(n){k(i,null,{error:n})}))}},Zn=function(n){if(e(n))return n.map(Yn);var r={};return t(n).forEach((function(t){r[t]=Yn(n[t])})),r},$n=function(n,r){if(e(n))if(n.length){var t=d(r);n.forEach((function(n){n(t)}))}else r();else v(u[0],r)},nr=function(n,r){if(void 0===r&&(r=a),c(n)){var t,e=null;w(n,1,(function(n,r,i){E(n,(function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];t=o.length<=1?o[0]:o,e=n,i(!n)}))}),(function(){r(e,t)}))}else v(u[0],r)},rr=function(n,r){return new G(n,r)},tr=function(n,r){return new W(n,r)},er=function(n,r){return new H(n,r)},ir=function(n,r,t){T(n,1/0,r,t)},or=function(n,r,t,e){T(n,r,t,e)},ur=function(n,r,t){T(n,1,r,t)},ar=function(n,r,t){P(n,1/0,r,t)},cr=function(n,r,t,e){P(n,r,t,e)},fr=function(n,r,t){P(n,1,r,t)},sr=D(1/0),lr=D(1),hr={noop:a,nextTick:J,back:k,setImmediate:k,yield:k,apply:K,async:nn,inherits:$,args:N,ensureAsync:Y,constant:X,result:q,sure_result:z,trap_sure_result:z,sure:B,trap_sure:B,sure_spread:C,spread:F,trap:V,wrap:M,run:E,each:fn,forEach:fn,eachLimit:sn,forEachLimit:sn,eachSeries:ln,forEachSeries:ln,eachOf:hn,forEachOf:hn,eachOfLimit:pn,forEachOfLimit:pn,eachOfSeries:vn,forEachOfSeries:vn,map:dn,mapLimit:yn,mapSeries:mn,groupBy:Sn,groupByLimit:Ln,groupBySeries:An,mapValues:wn,mapValuesLimit:gn,mapValuesSeries:_n,concat:kn,concatLimit:bn,concatSeries:En,sortBy:rn,filter:xn,select:xn,filterLimit:On,selectLimit:On,filterSeries:jn,selectSeries:jn,reject:Tn,rejectLimit:Pn,rejectSeries:In,waterfall:tn,series:en,parallel:on,parallelLimit:un,auto:Fn,whilst:Qn,doWhilst:Rn,during:Dn,doDuring:Un,until:Wn,doUntil:Gn,forever:Hn,reduce:an,inject:an,foldl:an,reduceRight:cn,foldr:cn,queue:rr,priorityQueue:tr,cargo:er,retry:Nn,retryable:Nn,times:ir,timesLimit:or,timesSeries:ur,detect:ar,detectLimit:cr,detectSeries:fr,some:qn,any:qn,someLimit:zn,anyLimit:zn,someSeries:Bn,anySeries:Bn,every:Vn,all:Vn,everyLimit:Mn,allLimit:Mn,everySeries:Cn,allSeries:Cn,applyEach:sr,applyEachSeries:lr,asyncify:Z,wrapSync:Z,memoize:Jn,unmemoize:Kn,transform:Xn,reflect:Yn,reflectAll:Zn,race:$n,tryEach:nr};n.default=hr,n.noop=a,n.nextTick=J,n.back=k,n.setImmediate=k,n.yield=k,n.apply=K,n.async=nn,n.inherits=$,n.args=N,n.ensureAsync=Y,n.constant=X,n.result=q,n.sure_result=z,n.trap_sure_result=z,n.sure=B,n.trap_sure=B,n.sure_spread=C,n.spread=F,n.trap=V,n.wrap=M,n.run=E,n.each=fn,n.forEach=fn,n.eachLimit=sn,n.forEachLimit=sn,n.eachSeries=ln,n.forEachSeries=ln,n.eachOf=hn,n.forEachOf=hn,n.eachOfLimit=pn,n.forEachOfLimit=pn,n.eachOfSeries=vn,n.forEachOfSeries=vn,n.map=dn,n.mapLimit=yn,n.mapSeries=mn,n.groupBy=Sn,n.groupByLimit=Ln,n.groupBySeries=An,n.mapValues=wn,n.mapValuesLimit=gn,n.mapValuesSeries=_n,n.concat=kn,n.concatLimit=bn,n.concatSeries=En,n.sortBy=rn,n.filter=xn,n.select=xn,n.filterLimit=On,n.selectLimit=On,n.filterSeries=jn,n.selectSeries=jn,n.reject=Tn,n.rejectLimit=Pn,n.rejectSeries=In,n.waterfall=tn,n.series=en,n.parallel=on,n.parallelLimit=un,n.auto=Fn,n.whilst=Qn,n.doWhilst=Rn,n.during=Dn,n.doDuring=Un,n.until=Wn,n.doUntil=Gn,n.forever=Hn,n.reduce=an,n.inject=an,n.foldl=an,n.reduceRight=cn,n.foldr=cn,n.queue=rr,n.priorityQueue=tr,n.cargo=er,n.retry=Nn,n.retryable=Nn,n.times=ir,n.timesLimit=or,n.timesSeries=ur,n.detect=ar,n.detectLimit=cr,n.detectSeries=fr,n.some=qn,n.any=qn,n.someLimit=zn,n.anyLimit=zn,n.someSeries=Bn,n.anySeries=Bn,n.every=Vn,n.all=Vn,n.everyLimit=Mn,n.allLimit=Mn,n.everySeries=Cn,n.allSeries=Cn,n.applyEach=sr,n.applyEachSeries=lr,n.asyncify=Z,n.wrapSync=Z,n.memoize=Jn,n.unmemoize=Kn,n.transform=Xn,n.reflect=Yn,n.reflectAll=Zn,n.race=$n,n.tryEach=nr,Object.defineProperty(n,"__esModule",{value:!0})}));